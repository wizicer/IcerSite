function initchart(){var t={_proficiency:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],children:null,value:0,key:"",depth:1};chart.refreshChart(t)}function mouseover(t){chart.refreshChart(t);var e=getcrumbpath(t);i(e),d3.selectAll(".skills-sunburst path").style("opacity",.3),sunburst.selectAll("path").filter(function(t){return e.indexOf(t)>=0}).style("opacity",1)}function mouseleave(){d3.selectAll("path").on("mouseover",null),d3.selectAll("path").transition().duration(1e3).style("opacity",1).each("end",function(){d3.select(this).on("mouseover",mouseover)})}function getcrumbpath(t){for(var e=[],r=t;r.parent;)e.unshift(r),r=r.parent;return e}function initbreadcrumb(){d3.select("#skills-chart-breadcrumb").append("svg:svg").attr("width",500).attr("height",50).attr("class","trail")}function h(t,e){var a=[];return a.push("0,0"),a.push(r.w+",0"),a.push(r.w+r.t+","+r.h/2),a.push(r.w+","+r.h),a.push("0,"+r.h),e>0&&a.push(r.t+","+r.h/2),a.join(" ")}function i(t){t[t.length-1]._color,t.length;var e=d3.select("#skills-chart-breadcrumb .trail").selectAll("g").remove();e=d3.select("#skills-chart-breadcrumb .trail").selectAll("g").data(t,function(t){return t.key+t.depth});var a=e.enter().append("svg:g");a.append("svg:polygon").attr("points",h).style("fill",function(t){return t._color}),a.append("svg:text").attr("x",r.w/2+2).attr("y",r.h/2).attr("dy","0.35em").attr("text-anchor","middle").attr("class","breadcumb-text").style("fill",function(t){return getcolor(d3.rgb(t._color))<150?"#fff":"#000"}).text(function(t){return t.key}),e.attr("transform",function(t,e){return"translate("+e*(r.w+r.s)+", 0)"}),e.exit().remove(),d3.select(".trail").style("visibility","")}function getcolor(t){return.299*t.r+.587*t.g+.114*t.b}function k(t){var e=["#4CC3D9","#FFC65D","#7BC8A4","#93648D","#404040"],r=[-.1,-.05,0];if(1==t.depth){var a=e[coloralternative%5];return coloralternative++,a}if(t.depth>1){var n=r[t.value%3];return d3.rgb(t.parent._color).brighter(.2*t.depth+n*t.depth)}}var skillsdata;skillsdata={Skills:{"Server & WinForm":{Protocol:{Propose:[0,0,0,0,0,0,0,0,0,0,10,30,50,50,50],USSD:[0,0,0,0,0,0,0,0,0,0,60,60,50,40,30],UAP:[0,0,0,0,0,0,0,0,0,0,0,60,70,50,30],"Socket Raw":[0,0,0,0,0,0,0,0,0,10,50,50,50,70,80]},Optimization:{Performance:[0,0,0,0,0,0,0,0,0,10,40,40,50,50,50],Distribute:[0,0,0,0,0,0,0,0,0,10,10,10,40,50,50],Stability:[0,0,0,0,0,0,0,0,0,10,50,60,70,80,90]},UI:{WinForm:[0,0,20,40,50,50,50,50,60,80,90,95,95,95,95],WPF:[0,0,0,0,0,0,0,0,0,0,0,0,0,30,50],GDI:[0,0,0,0,0,40,50,40,40,30,30,20,20,10,5],DX:[0,0,0,0,0,10,50,50,40,40,30,20,10,10,5],Flash:[0,0,10,30,40,50,50,40,30,20,10,5,5,5,5]},Algorithm:{"Image Processing":[0,0,0,0,0,0,0,10,30,50,50,50,45,45,40],"Face recognition":[0,0,0,0,0,0,0,10,40,70,60,50,40,40,40]}},"Web Development":{"Server Side":{"Active Page":{ASP:[0,0,10,30,60,60,40,20,20,20,20,20,20,20,20],"ASP.Net":[0,0,0,0,0,0,10,30,70,80,90,90,90,90,90]},"Node.js":{express:[0,0,0,0,0,0,0,0,0,0,0,0,0,10,30],npm:[0,0,0,0,0,0,0,0,0,0,0,0,0,10,40]},DB:{SqlServer:[0,0,0,0,0,10,20,40,40,40,60,90,90,90,80],Sqlite:[0,0,0,0,0,0,0,0,0,0,0,0,10,30,20],Mongo:[0,0,0,0,0,0,0,0,0,0,0,0,0,10,30]},Server:{IIS:[0,10,10,30,40,40,40,60,70,70,80,80,80,80,80],Apache:[0,0,0,0,0,0,0,0,0,0,0,0,10,20,40]},API:{"OAuth2.0":[0,0,0,0,0,0,0,0,0,20,40,40,40,30,30],WeChat:[0,0,0,0,0,0,0,0,0,0,0,0,0,30,30],Propose:[0,0,0,0,0,0,0,0,0,0,0,0,30,40,30]}},"Front Side":{HTML:[0,0,10,30,50,50,60,80,90,60,50,30,30,30,40],CSS:{CSS:[0,0,10,30,50,50,60,80,85,60,50,30,20,20,30],LESS:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,30],Responsive:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,20]},JSFramework:{jQuery:[0,0,0,0,0,0,0,0,0,0,20,30,30,25,30],ExtJs:[0,0,0,0,0,0,0,0,0,0,0,0,0,30,30],BackboneJs:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,10],"D3.js":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,20],Rapheal:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,20],kinetic:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,20]},Template:{Jade:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,20],Razor:[0,0,0,0,0,0,0,0,0,40,50,60,80,80,80]}}},Language:{Dotnet:{"C#":[0,0,0,0,0,0,20,50,70,80,90,95,95,95,95],Xaml:[0,0,0,0,0,0,0,0,0,0,0,0,0,30,50],"F#":[0,0,0,0,0,0,0,0,0,0,0,0,30,30,30]},Script:{Javascript:[0,0,10,30,50,50,60,60,60,80,80,60,50,50,60],VBScript:[0,0,0,0,20,20,30,30,40,30,20,20,20,20,20],CoffeeScript:[0,0,0,0,0,0,0,0,0,0,0,0,0,30,50],Python:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,20]},Java:{Android:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,30]},Embedded:{"X86 Asm":[0,0,0,0,0,0,0,0,10,40,40,30,25,20,20],C:[0,0,0,0,0,0,0,20,25,30,50,50,45,40,40]},Other:{"T-SQL":[0,0,0,0,0,10,20,40,40,40,60,90,90,90,80],"(E)BNF":[0,0,0,0,0,0,0,0,0,0,0,0,0,10,30],"XSD/XSLT":[0,0,0,0,0,0,20,40,40,40,40,40,50,50,60],QB:[40,50,40,30,20,10,5,5,5,5,5,5,5,5,5],VB:[0,10,20,50,60,80,90,80,70,60,60,60,60,50,50],Pascal:[0,0,0,30,50,60,40,20,10,5,5,5,5,5,5],IEC61131:[0,0,0,0,0,0,0,0,0,0,0,0,0,10,40]}},Other:{"HW&FW":{Protues:[0,0,0,0,0,0,0,0,0,10,30,25,20,20,25],Keil:[0,0,0,0,0,0,0,0,0,10,30,25,20,20,25],"Code Warrior":[0,0,0,0,0,0,0,0,0,10,15,15,10,10,20],Protel:[0,0,0,0,0,0,0,0,0,10,20,15,10,10,5],Multisim:[0,0,0,0,0,0,0,0,0,10,30,30,25,20,15],Lego:[0,0,0,0,10,40,50,45,40,35,30,25,20,15,10]},Productivity:{Vim:[0,0,0,0,0,0,0,0,10,20,30,40,45,50,55],AHK:[0,0,0,0,0,0,0,0,10,20,30,30,30,35,40],Office:[0,10,20,50,60,60,70,70,80,90,90,90,90,90,90],Photoshop:[0,10,20,30,35,40,45,50,60,65,60,60,55,60,60],Batch:[40,45,50,50,50,60,65,70,75,75,80,80,80,80,80],Shell:[0,0,0,0,0,0,0,0,0,10,10,10,30,35,40],Linux:[0,0,0,0,0,0,0,0,0,10,10,10,40,50,55],"Marked Text":[10,20,20,30,40,40,40,40,40,50,60,70,80,80,80]},Project:{Agile:[0,0,0,0,0,0,0,0,10,30,40,50,60,70,80],CI:[0,0,0,0,0,0,0,0,10,30,50,70,70,80,80],Repos:{Git:[0,0,0,0,0,0,0,0,0,0,0,0,0,30,50],SVN:[0,0,0,0,0,0,0,0,0,0,10,30,50,50,50],Clearcase:[0,0,0,0,0,0,0,0,0,0,0,0,0,10,30]},Track:{Redmine:[0,0,0,0,0,0,0,0,0,0,0,0,0,10,30],Trello:[0,0,0,0,0,0,0,0,0,0,0,0,10,10,20]},Wiki:[0,0,0,0,0,0,0,0,10,40,50,40,40,40,40],"Quality Assurance":[0,0,0,0,0,0,0,0,0,0,10,30,50,60,60]},Cloud:{IaaS:[0,0,0,0,0,0,0,0,0,0,0,0,10,10,15],PaaS:[0,0,0,0,0,0,0,0,0,0,0,0,15,30,30],SaaS:[0,0,0,0,0,0,0,0,0,0,0,0,10,10,10]},Test:{TDD:[0,0,0,0,0,0,0,0,5,10,5,5,15,5,5],cucumber:[0,0,0,0,0,0,0,0,0,0,0,5,0,10,30],"Load test":[0,0,0,0,0,0,0,0,0,0,40,30,25,20,15]}}}};var l,chart=function(t){function e(t){var e=[],r=0;return t._proficiency.forEach(function(t){r<=l.length&&(e.push({p:t,date:l[r]}),r++)}),e}function r(e,r){c.domain(t.extent(e,function(t){return t.date})),u.domain([0,100]),f.append("g").attr("class","x-axis axis").attr("transform","translate(0,"+s+")").call(d).append("text").attr("x",450).attr("y",-8).style("text-anchor","end").text("Time"),f.append("g").attr("class","y-axis axis").call(h).append("text").attr("transform","rotate(-90)").attr("y",6).attr("dy",".91em").style("text-anchor","end").text("Proficiency"),f.append("path").datum(e).attr("class","line").attr("id","skills-chart-line").attr("d",p).attr("stroke",function(){return r._color})}function a(a){var n=e(a),i=t.select("#skills-chart-line");null===i[0][0]?r(n,a):i.datum(n).attr("d",p).attr("stroke",function(){return a._color})}var n={},i={top:20,right:20,bottom:30,left:50},o=500-i.left-i.right,s=400-i.top-i.bottom,l=[1999,2e3,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013],c=t.scale.linear().range([0,o]),u=t.scale.linear().range([s,0]),d=t.svg.axis().scale(c).tickValues([1999,2004,2009,2013]).tickFormat(t.format(".0f")).tickPadding(10).tickSize(0).orient("bottom"),h=t.svg.axis().scale(u).tickSize(0).tickPadding(10).tickValues([20,40,60,80,100]).orient("left"),p=t.svg.line().interpolate("basis").x(function(t){return c(t.date)}).y(function(t){return u(t.p)}),f=t.select(".skills-chart").append("svg").attr("width",o+i.left+i.right).attr("height",s+i.top+i.bottom).append("g").attr("transform","translate("+i.left+","+i.top+")");return n.refreshChart=a,n}(d3),width=580,height=580,rad=Math.min(width,height)/Math.PI-25,q=k,r={w:116,h:30,s:3,t:7},sunburst=d3.select(".skills-sunburst").append("svg:svg").attr("width",width).attr("height",height).append("svg:g").attr("transform","translate("+width/2+","+height/2+")");sunburst.append("svg:circle").attr("r",rad).style("opacity",0);var t=function(t,e){var r=[],a=t.length;if(t.length!==e.length)r=t.length>e.length?t:e;else for(var n=0;a>n;n++){var i=Math.max(t[n],e[n])-Math.abs(t[n]-e[n])/8;r.push(i)}return r},u=function(e){if(e instanceof Array)return e;var r=[];return $.each(e,function(e,a){r=t(u(a),r)}),r},proficiencydata=d3.layout.partition().sort(null).size([2*Math.PI,rad]).children(function(t){return t.value instanceof Array?(t._proficiency=t.value,d3.entries([t.value[t.value.length-1]])):(t._proficiency=u(t.value),isNaN(t.value)?d3.entries(t.value):null)}).value(function(t){return t.value}),arc=d3.svg.arc().startAngle(function(t){return t.x}).endAngle(function(t){return t.x+t.dx-.01/(t.depth+.5)}).innerRadius(function(t){return rad/Math.PI*t.depth}).outerRadius(function(t){return rad/Math.PI*(t.depth+1)-1}),coloralternative=0;initbreadcrumb();var path=sunburst.data(d3.entries(skillsdata)).selectAll("g").data(proficiencydata).enter().append("svg:g").attr("display",function(t){return t.depth?null:"none"});path.append("svg:path").attr("d",arc).attr("stroke","#fff").attr("fill",function(t){return t._color=q(t),t._color}).attr("fill-rule","evenodd").attr("display",function(t){return t.children?null:"none"}).on("mouseover",mouseover),path.append("svg:text").attr("transform",function(t){var e=180*((t.x+t.dx/2-Math.PI/2)/Math.PI);return"rotate("+e+")"}).attr("x",function(t){return rad/Math.PI*t.depth}).attr("dx","6").attr("dy",".1em").text(function(t){return t.key}).attr("display",function(t){return t.children?null:"none"}).on("mouseover",mouseover),d3.select(".skills-sunburst").on("mouseleave",mouseleave),l=path.node().__data__.value,sunburst.append("circle").attr("r",rad/Math.PI).attr("opacity",0),initchart(),window.addEventListener("impress:stepenter",function(){var t=$(".step.active video")[0];void 0!==t&&(t.load(),t.play())}),window.addEventListener("impress:stepleave",function(){var t=$(".step.past video")[0];void 0!==t&&t.pause()}),window.addEventListener("impress:stepenter",function(){var t=["bounceIn","bounce","tada"];$(".step.active strong").each(function(){var e=t[Math.floor(Math.random()*t.length)];$(this).addClass("animated "+e)})}),window.addEventListener("impress:stepenter",function(){$(".step.past strong").removeClass("animated bounceIn bounce tada")}),window.addEventListener("impress:stepenter",function(){$(".step.future strong").removeClass("animated bounce bounceIn tada")});